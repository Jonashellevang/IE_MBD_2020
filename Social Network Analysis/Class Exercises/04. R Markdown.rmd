---
title: "Networks in Igraph"
output:
  pdf_document: default
  html_notebook: default
editor_options:
  chunk_output_type: inline
---

## Distances and paths



The average path length (mean of the shortest distance between each pair of nodes) can be obtained with the function mean_distance()
```{r}
data(karate)
mean_distance(karate, directed=F)

```

We can also find the length of all shortest paths in the graph:

```{r}
res <- distances(karate) 
```


We can extract the distances to a specific node. 
```{r}
#Distance from the head teacher 
dist.from.H <- distances(karate, v=V(karate)[label=="H"], to=V(karate))

oranges <- colorRampPalette(c("dark red", "gold"))

col <- oranges(max(dist.from.H)+1)

col <- col[dist.from.H+1]

plot(karate, vertex.color=col, vertex.label=dist.from.H, edge.arrow.size=.6, 

     vertex.label.color="white")
```

Repeat it to obtain the same result from the instructor.
```{r}
# Distance from the instructor
dist.from.I <- distances(karate, v=V(karate)[label=="I"], to=V(karate))

oranges <- colorRampPalette(c("dark red", "gold"))

col <- oranges(max(dist.from.I)+1)

col <- col[dist.from.I+1]

plot(karate, vertex.color=col, vertex.label=dist.from.I, edge.arrow.size=.6, 

     vertex.label.color="white")

```


## Transitivity and Reciprocity


We will work with the example in the slides to calculate:

* Transitivity
* Reciprocity


```{r}
game <- graph( c("paper", "rock", "paper", "spock", "rock", "scissors", "rock", "lizard", "lizard", "paper", "lizard", "spock", "spock", "scissors", "spock", "rock", "scissors", "paper", "scissors", "lizard"))

plot(game)


transitivity(game)
```

Why is returning Nan?
```{r}
transitivity(make_empty_graph(n = 10))
```




```{r}
adjmatrix_rec <- matrix( 
    c(0, 1, 1, 
      1, 0, 0,
      0, 1, 0),
    nrow = 3,
    ncol = 3)

g <- graph_from_adjacency_matrix(adjmatrix_rec)
reciprocity(g)
```
